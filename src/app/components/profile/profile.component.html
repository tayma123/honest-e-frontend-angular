
<div id="main-container">
  <div>
   <a class="nav-link" (click)="onOpenModalC(null, 'add')" align="right">Add Complaint <span class="sr-only">(current)</span></a>
</div>
  <table class="table table-hover table-striped">
    <thead>
      <th><strong>firstName</strong></th>
      <th><strong>lasttName</strong></th>
      <th><strong>Email</strong></th>
      <th><strong>Phone</strong></th>
      <th><strong>Password</strong></th>
      <th><strong>Role</strong></th>
    </thead>
    <tr>
      <td>{{ authService?.firstName }}</td>
      <td>{{ authService?.lastName }}</td>
      <td>{{ authService?.loggedUser }}</td>
      <td>{{ authService?.phone }}</td>
      <td>{{ authService?.password }}</td>
      <td>{{ authService?.role }}</td>
      <td><a class="btn btn-dark tooltips" id="edit"(click)="onOpenModal(authService.user, 'edit')"  data-placement="top" data-original-title="Edit">Edit </a></td>
    </tr>
  </table>
</div>
<button (click)="getUser_complaints()" class="btn btn-dark" >
  Complaints List
</button>


<div class="analyse" >
   <div class="row">
   <div *ngFor="let complaint of complaints" class="col-md-6">
      <div class="card m-b-30">
         <div class="card-body row">
         <ul class="list-group list-group-flush">
           <li class="list-group-item"><strong>Object:</strong> {{ complaint.object }}</li>
           <li class="list-group-item"><strong>Subject:</strong>  {{ complaint.subject }}</li>
           <li class="list-group-item"><strong>Type:</strong>  {{ complaint.type }}</li>

           <li class="list-group-item" class="rating"><!--
           --><a href="#5" title="Donner 5 étoiles">☆</a><!--
           --><a href="#4" title="Donner 4 étoiles">☆</a><!--
           --><a href="#3" title="Donner 3 étoiles">☆</a><!--
           --><a href="#2" title="Donner 2 étoiles">☆</a><!--
           --><a href="#1" title="Donner 1 étoile">☆</a> </li>
        
           <style>.rating a {
             color: #aaa;
             text-decoration: none;
             font-size: 3em;
             transition: color .4s;
           }
           .rating a:hover,
           .rating a:focus {
             color: orange;
             cursor: pointer;
           }
           </style>
         </ul>
      </div>
   </div>
   </div>
   </div>
   </div>
<div class="container" id="main-container">
   <!-- Add User Modal -->
<div class="modal fade" id="addComplaintModal" tabindex="-1" role="dialog" aria-labelledby="addComplaintModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
       <div class="modal-header">
          <h5 class="modal-title" id="addComplaintModalLabel">Add Complaint</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
       </div>
       <div class="modal-body">
          <form #addForm="ngForm" (ngSubmit)="onAddComplaint(addForm)">
          <div class="form-group">
             <label for="object">Object</label>
             <input type="text" ngModel name="object" class="form-control" id="object" placeholder="object" required>
          </div>
          <div class="form-group">
             <label for="subject">Subject</label>
             <input type="text" ngModel name="subject" class="form-control" id="subject" placeholder="subject" required>
          </div>
          <div class="form-group">
             <label for="email">Email Address</label>
             <input type="text" ngModel="{{authService?.loggedUser}}"name="email" class="form-control" id="email" placeholder="Email" required>
          </div>
          <div class="form-group col">
            <label>Type </label>
            <select
              name="type"
              formControlName="type"
              id="type"
              class="form-control "
             
            >
            <option value="DamagedWare">DamagedWare</option>
            <option value="WrongWireInsertionInComponent">WrongWireInsertionInComponent</option>
            <option value="WrongTapping">WrongTapping</option>
            <option value="WrongCrimping">WrongCrimping</option>
            </select>
          </div>
          <div class="modal-footer">
             <button type="button" id="add-complaint-form" class="btn btn-secondary" data-dismiss="modal">Close</button>
             <button [disabled]="addForm.invalid" type="submit" class="btn btn-primary" >Save changes</button>
          </div>
          </form>
       </div>
    </div>
  </div>
  </div>
  <!-- Edit Modal -->
 <div class="modal fade" id="updateUserModal" tabindex="-1" role="dialog" aria-labelledby="UserEditModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="updateUsereModalLabel">Edit User {{editUser?.email}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <form #editForm="ngForm">
               
               <div class="form-group">
                  <label for="userName">UserName</label>
                  <input type="text" ngModel="{{editUser?.firstName}}" name="firstName" class="form-control" id="firstName" >
               </div>
               <div class="form-group">
                  <label for="lastName">LastName</label>
                  <input type="text" ngModel="{{editUser?.lastName}}" name="lastName" class="form-control" id="lastName" >
               </div>
               <div class="form-group">
                  <label for="passWord">Password</label>
                  <input type="text" ngModel="{{editUser?.password}}" name="password" class="form-control" id="password" >
               </div>
              
             
               <div class="form-group">
                  <label for="email">Email</label>
                  <input type="text" ngModel="{{editUser?.email}}" name="email" class="form-control" id="email" >
               </div>
               
               <div class="form-group">
                  <label for="phone">phone</label>
                  <input type="number" ngModel="{{editUser?.phone}}" name="phone" class="form-control" id="phone" >
               </div>
               <div class="form-group">
                  <label for="role">role</label>
                  <input type="text" ngModel="{{editUser?.role}}" name="role" class="form-control" id="role">
               </div>
               
               
               
             
               <div class="modal-footer">
                  <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
                  <button (click)="onUpdateUser(editForm.value)" data-dismiss="modal" class="btn btn-dark" >Save changes</button>
               </div>
            </form>
         </div>
      </div>
   </div>
 </div>
 
 <!-- Delete Modal -->
    <div class="modal fade" id="deleteComplaintModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title" id="deleteModelLabel">Delete Complaint</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
               </button>
            </div>
            <div class="modal-body">
               <p>Are you sure you want to delete Compalint{{deleteComplaint?.id}}?</p>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                  <button (click)="onDeleteComplaint(deleteComplaint?.id)" class="btn btn-danger" data-dismiss="modal">Yes</button>
               </div>
            </div>
            
         </div>
      </div>
    </div>
    </div>




